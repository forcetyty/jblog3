<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="blog">

<!-- main화면에서 catagory를 뿌려주는 기능 -->
<select id="categorymain" resultType="categoryvo" parameterType="String">
<![CDATA[
	select cat_no, id, name name from category where id = #{userId }
]]>
</select>

<select id="categoryList" resultType="categoryvo" parameterType="String">
<![CDATA[
	select cat.cat_no, cat.reg_date,
	cat.name, count(p.cat_no) as cat_count, 
	cat.contents from category as cat left outer join post as p 
	on cat.cat_no = p.cat_no  where id = #{userId }
	group by cat.cat_no;
]]>
</select>


</mapper>